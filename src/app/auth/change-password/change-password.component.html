<div class="page-wrapper">
  <div class="container">
    <h2 class="mb-4">Şifre Değiştir</h2>

    <form (ngSubmit)="onChangePassword(changeForm)" #changeForm="ngForm" novalidate>
      <div class="mb-3">
        <input
          type="password"
          class="form-control"
          placeholder="Eski Şifre"
          name="oldPassword"
          [(ngModel)]="passwordData.oldPassword"
          required
          #oldPassword="ngModel"
        />
        <div *ngIf="oldPassword.invalid && oldPassword.touched" class="text-danger small mt-1">
          Eski şifre zorunludur.
        </div>
      </div>

      <div class="mb-3">
        <input
          type="password"
          class="form-control"
          placeholder="Yeni Şifre"
          name="newPassword"
          [(ngModel)]="passwordData.newPassword"
          required
          #newPassword="ngModel"
        />
        <div *ngIf="newPassword.invalid && newPassword.touched" class="text-danger small mt-1">
          Yeni şifre zorunludur.
        </div>
      </div>

      <div class="mb-3">
        <input
          type="password"
          class="form-control"
          placeholder="Yeni Şifre (Tekrar)"
          name="confirmPassword"
          [(ngModel)]="passwordData.confirmPassword"
          required
          #confirmPassword="ngModel"
        />
        <div *ngIf="confirmPassword.invalid && confirmPassword.touched" class="text-danger small mt-1">
          Şifre tekrarı zorunludur.
        </div>
        <div
          *ngIf="passwordData.newPassword !== passwordData.confirmPassword && confirmPassword.touched"
          class="text-danger small mt-1"
        >
          Şifreler uyuşmuyor.
        </div>
      </div>

      <button
        type="submit"
        class="btn btn-primary w-100"
        [disabled]="changeForm.invalid || passwordData.newPassword !== passwordData.confirmPassword"
      >
        Şifreyi Güncelle
      </button>
    </form>

    <div *ngIf="successMessage" class="alert alert-success mt-3">
      {{ successMessage }}
    </div>

    <div *ngIf="errorMessage" class="alert alert-danger mt-3">
      {{ errorMessage }}
    </div>
  </div>
</div>
